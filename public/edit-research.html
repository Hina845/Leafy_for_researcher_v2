<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chỉnh sửa bài nghiên cứu</title>
    <link rel="icon" type="image/svg+xml" href="assets/icons/icBrandLogo1.svg" sizes="any" />
    <link rel="stylesheet" href="styles/tokens.css">
    <link rel="stylesheet" href="components/component-styles.css">
    <link rel="stylesheet" href="styles/edit-research.css">

</head>
<body>
    <nav style = 'display: flex;'>
        <div class = 'navigator' >
            <img src = "../assets/images/logo-type2.png" alt="Logo" class="logo" style = "width: 100px; height: var(--spacing-4);">
            <div class = nav-search-bar>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_294_217)">
                    <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="#87A706"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_294_217">
                    <rect width="24" height="24" fill="white"/>
                    </clipPath>
                    </defs>
                </svg>
                <input type="text" placeholder="Tìm cảm hứng nghiên cứu..."  class="search-input">     
            </div>
            <div class = 'nav-navigator'>
                <a href = ''>Danh mục</a>
                <a href = ''>Nghiên cứu</a>
                <button class = 'nav-button'>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_294_227)">
                        <g clip-path="url(#clip1_294_227)">
                        <path d="M8.66683 4.66671H7.3335V7.33337H4.66683V8.66671H7.3335V11.3334H8.66683V8.66671H11.3335V7.33337H8.66683V4.66671ZM8.00016 1.33337C4.32016 1.33337 1.3335 4.32004 1.3335 8.00004C1.3335 11.68 4.32016 14.6667 8.00016 14.6667C11.6802 14.6667 14.6668 11.68 14.6668 8.00004C14.6668 4.32004 11.6802 1.33337 8.00016 1.33337ZM8.00016 13.3334C5.06016 13.3334 2.66683 10.94 2.66683 8.00004C2.66683 5.06004 5.06016 2.66671 8.00016 2.66671C10.9402 2.66671 13.3335 5.06004 13.3335 8.00004C13.3335 10.94 10.9402 13.3334 8.00016 13.3334Z" fill="white"/>
                        </g>
                        </g>
                        <defs>
                        <clipPath id="clip0_294_227">
                        <rect width="16" height="16" fill="white"/>
                        </clipPath>
                        <clipPath id="clip1_294_227">
                        <rect width="16" height="16" fill="white"/>
                        </clipPath>
                        </defs>
                    </svg>
                    <span style = "color: var(--color-true-white);">Thêm bài viết</span>
                </button>
                <!-- Dynamic update this using JS after backend done -->
                <img id = 'profile-picture' src = "../assets/images/dummy_profile.PNG" alt="User" class="user-icon" style = "width: 40px; height: 40px; border-radius: 50%; cursor: pointer;">
            </div>
        </div>
        <!-- <script type = "module">
            import { server } from '../frontend/config.js';
    
            const profilePicture = document.getElementById('profile-picture');
    
            fetch(`${server}/user/profile_picture`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            }).then(response => response.text())
            .then(data => {
                profilePicture.src = data;
            }).catch(error => {
                console.error('Error fetching profile picture:', error);
            });
        </script> -->
    
    </nav>
    <div class = edit-research>
        <span style = "font-size: var(--spacing-4); line-height: 100%; letter-spacing: 0%;">Thêm/Chỉnh sửa bài nghiên cứu</span>
        <hr style = "background-color: var(--color-brand-opacity50); width: 100%; height: 2px;">
        <div class = 'edit-field'>
            <div class = 'label'>
                <span style = "font-size: var(--spacing-2); line-height: 100%; letter-spacing: 0%;">Thông tin cơ bản</span>
                <p style = "color: var(--color-brand-primary)">Đây là nơi bạn điền các thông tin quan trọng giúp người đọc hiểu rõ nghiên cứu của bạn. Hãy chắc chắn rằng tên, tác giả, năm xuất bản và nội dung tóm tắt được trình bày đầy đủ và chính xác.</p>
            </div>
            <div class = 'edit'>
                <div class = 'input-field'>
                    <span>Tên bài nghiên cứu</span>
                    <input type="text" id = 'research-name'>
                </div>
                <div class = 'input-field'>
                    <span>Tác giả</span>
                    <input type="text" id = 'research-author'>
                </div>
                <div class = 'input-field'>
                    <span>Năm xuất bản</span>
                    <input type="text" id = 'research-publish-year'>
                </div>
                <div class = 'input-field'>
                    <span>Tóm tắt nội dung</span>
                    <input type="text" id = 'research-summary'>
                </div>
                <div class = 'input-field'>
                    <span>Phân loại</span>
                    <div class = 'still-tags-container' style = "justify-content: flex-start; padding: var(--spacing-1); flex-direction: row;"></div>
                    <script type = "module">
                        import { still_tags_loader_with_link, still_tags_loader_no_link } from '../scripts/tags_loader.js';
                        const container = document.querySelector('.still-tags-container');
                        still_tags_loader_no_link(container, ['Kaguya', 'Miku', 'Gura', 'Aqua', 'Mori Calliope']);
                    </script>
                </div>
                <div class = 'input-field'>
                    <span>Ảnh bìa</span>
                    <div class = 'file_upload'>
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_204_1667)">
                                <path d="M40.0002 53.3333C39.0557 53.3333 38.2646 53.0133 37.6268 52.3733C36.9868 51.7356 36.6668 50.9444 36.6668 50V26.1667L30.4168 32.4167C29.7502 33.0833 28.9724 33.4167 28.0835 33.4167C27.1946 33.4167 26.3891 33.0556 25.6668 32.3333C25.0002 31.6667 24.6813 30.8744 24.7102 29.9567C24.7368 29.0411 25.0557 28.2778 25.6668 27.6667L37.6668 15.6667C38.0002 15.3333 38.3613 15.0967 38.7502 14.9567C39.1391 14.8189 39.5557 14.75 40.0002 14.75C40.4446 14.75 40.8613 14.8189 41.2502 14.9567C41.6391 15.0967 42.0002 15.3333 42.3335 15.6667L54.3335 27.6667C55.0002 28.3333 55.319 29.1244 55.2902 30.04C55.2635 30.9578 54.9446 31.7222 54.3335 32.3333C53.6668 33 52.8757 33.3467 51.9602 33.3733C51.0424 33.4022 50.2502 33.0833 49.5835 32.4167L43.3335 26.1667V50C43.3335 50.9444 43.0146 51.7356 42.3768 52.3733C41.7368 53.0133 40.9446 53.3333 40.0002 53.3333ZM20.0002 66.6667C18.1668 66.6667 16.5979 66.0145 15.2935 64.71C13.9868 63.4033 13.3335 61.8333 13.3335 60V53.3333C13.3335 52.3889 13.6524 51.5967 14.2902 50.9567C14.9302 50.3189 15.7224 50 16.6668 50C17.6113 50 18.4035 50.3189 19.0435 50.9567C19.6813 51.5967 20.0002 52.3889 20.0002 53.3333V60H60.0002V53.3333C60.0002 52.3889 60.3202 51.5967 60.9602 50.9567C61.5979 50.3189 62.389 50 63.3335 50C64.2779 50 65.069 50.3189 65.7068 50.9567C66.3468 51.5967 66.6668 52.3889 66.6668 53.3333V60C66.6668 61.8333 66.0146 63.4033 64.7102 64.71C63.4035 66.0145 61.8335 66.6667 60.0002 66.6667H20.0002Z" fill="#87A706"/>
                                </g>
                                <defs>
                                <clipPath id="clip0_204_1667">
                                <rect width="80" height="80" fill="white"/>
                                </clipPath>
                                </defs>
                        </svg>
                        <div style = "display: flex; gap: 3px">
                            <span>Kéo file vào đây để upload hoặc</span>
                            <span id = 'get-cover-file-btn' style = "color: var(--color-brand-primary); text-decoration: underline; cursor: pointer">ấn vào đây</span>
                            <span>để chọn từ thiết bị</span>
                        </div>
                        <input type = "file", id = "cover-image-input", style = "display: none;" accept = "image/*"> 
                    </div>
                </div>
            </div>
        </div>
        <hr style = "background-color: var(--color-brand-opacity50); width: 100%; height: 2px;">
        <div class = 'edit-field'>
            <div class = 'label'>
                <span style = "font-size: var(--spacing-2); line-height: 100%; letter-spacing: 0%;">Bài nghiên cứu</span>
                <p style = "color: var(--color-brand-primary)">Vui lòng tải lên toàn bộ nội dung bài nghiên cứu để hệ thống lưu trữ và hiển thị chính xác. Bạn có thể kéo thả hoặc chọn nhiều tệp từ máy tính để tải lên.</p>
                <p style = "color: var(--color-brand-primary)">Hãy đảm bảo thông tin và file gửi là chính xác, bạn không thể hoàn tác hay sửa lại thông tin này!!!</p>
            </div>
            <div class="edit">
                <div class = 'input-field'>
                    <span>File nghiên cứu</span>
                    <div id = 'research-upload' class = 'file_upload'>
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_204_1667)">
                            <path d="M40.0002 53.3333C39.0557 53.3333 38.2646 53.0133 37.6268 52.3733C36.9868 51.7356 36.6668 50.9444 36.6668 50V26.1667L30.4168 32.4167C29.7502 33.0833 28.9724 33.4167 28.0835 33.4167C27.1946 33.4167 26.3891 33.0556 25.6668 32.3333C25.0002 31.6667 24.6813 30.8744 24.7102 29.9567C24.7368 29.0411 25.0557 28.2778 25.6668 27.6667L37.6668 15.6667C38.0002 15.3333 38.3613 15.0967 38.7502 14.9567C39.1391 14.8189 39.5557 14.75 40.0002 14.75C40.4446 14.75 40.8613 14.8189 41.2502 14.9567C41.6391 15.0967 42.0002 15.3333 42.3335 15.6667L54.3335 27.6667C55.0002 28.3333 55.319 29.1244 55.2902 30.04C55.2635 30.9578 54.9446 31.7222 54.3335 32.3333C53.6668 33 52.8757 33.3467 51.9602 33.3733C51.0424 33.4022 50.2502 33.0833 49.5835 32.4167L43.3335 26.1667V50C43.3335 50.9444 43.0146 51.7356 42.3768 52.3733C41.7368 53.0133 40.9446 53.3333 40.0002 53.3333ZM20.0002 66.6667C18.1668 66.6667 16.5979 66.0145 15.2935 64.71C13.9868 63.4033 13.3335 61.8333 13.3335 60V53.3333C13.3335 52.3889 13.6524 51.5967 14.2902 50.9567C14.9302 50.3189 15.7224 50 16.6668 50C17.6113 50 18.4035 50.3189 19.0435 50.9567C19.6813 51.5967 20.0002 52.3889 20.0002 53.3333V60H60.0002V53.3333C60.0002 52.3889 60.3202 51.5967 60.9602 50.9567C61.5979 50.3189 62.389 50 63.3335 50C64.2779 50 65.069 50.3189 65.7068 50.9567C66.3468 51.5967 66.6668 52.3889 66.6668 53.3333V60C66.6668 61.8333 66.0146 63.4033 64.7102 64.71C63.4035 66.0145 61.8335 66.6667 60.0002 66.6667H20.0002Z" fill="#87A706"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_204_1667">
                            <rect width="80" height="80" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>
                        <div style = "display: flex; gap: 3px; flex-wrap: nowrap;">
                            <span>Kéo một/nhiều file vào đây để upload hoặc</span>
                            <span id = 'get-research-file-btn' style = "color: var(--color-brand-primary); text-decoration: underline; cursor: pointer">ấn vào đây</span>
                            <span>để chọn từ thiết bị</span>
                        </div>
                        <input type = "file" id = "research-file-input" style = "display: none;" multiple>  
                    </div>
                </div>
                <div id = 'file-container'></div>
            </div>
        </div>
        <div id = research-file-container></div>
        <button id = 'upload-btn'>Thêm/Cập nhật bài nghiên cứu</button>
    </div>
    <div class='component-footer'>
        <div class='component-footer-navigation'>
            <div style="display: flex; flex-direction: row; align-items: flex-start; gap: var(--spacing-1);">
                <svg width="64" height="64" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M27.9313 5.0089C27.917 4.76425 27.8134 4.53337 27.6401 4.36009C27.4669 4.1868 27.236 4.08318 26.9913 4.0689C17.4751 3.51014 9.85258 6.37515 6.60258 11.7501C5.47604 13.5888 4.9209 15.7206 5.00758 17.8751C5.06416 19.2529 5.34449 20.6124 5.83758 21.9001C5.86655 21.9794 5.91512 22.05 5.97874 22.1055C6.04236 22.1609 6.11898 22.1993 6.20146 22.2172C6.28393 22.235 6.36958 22.2317 6.45043 22.2075C6.53128 22.1833 6.60469 22.1391 6.66383 22.0789L17.2888 11.2914C17.3817 11.1985 17.492 11.1248 17.6134 11.0745C17.7348 11.0242 17.8649 10.9983 17.9963 10.9983C18.1277 10.9983 18.2578 11.0242 18.3792 11.0745C18.5006 11.1248 18.6109 11.1985 18.7038 11.2914C18.7967 11.3843 18.8704 11.4946 18.9207 11.616C18.971 11.7374 18.9969 11.8675 18.9969 11.9989C18.9969 12.1303 18.971 12.2604 18.9207 12.3818C18.8704 12.5032 18.7967 12.6135 18.7038 12.7064L7.09258 24.4926L5.31883 26.2664C5.13436 26.446 5.02423 26.6884 5.01034 26.9455C4.99644 27.2026 5.0798 27.4555 5.24383 27.6539C5.33366 27.7579 5.44398 27.8423 5.56789 27.9018C5.6918 27.9613 5.82664 27.9946 5.964 27.9997C6.10135 28.0047 6.23827 27.9814 6.36621 27.9311C6.49415 27.8809 6.61036 27.8048 6.70758 27.7076L8.80633 25.6089C10.5738 26.4639 12.3576 26.9301 14.1263 26.9926C14.2655 26.9976 14.4042 27.0001 14.5426 27.0001C16.5568 27.0053 18.5329 26.4505 20.2501 25.3976C25.6251 22.1476 28.4913 14.5264 27.9313 5.0089Z" fill="#FFFFFF" />
                </svg>
                <span style='font-size: 48px; font-family: "Roboto Serif";'>leafy</span>
            </div>
            <div class="naviagation-part">
                <span style='font-weight: 800;'>Khám Phá Leafy</span>
                <ul>
                    <li>Bộ sưu tập nghiên cứu</li>
                    <li>Hướng dẫn học tập</li>
                    <li>Chủ đề nổi bật</li>
                </ul>
            </div>
            <div class="naviagation-part">
                <span style='font-weight: 800;'>Cộng Đồng Học Tập</span>
                <ul>
                    <li>Diễn đàn Leafy</li>
                    <li>Sự kiện & hội thảo</li>
                    <li>Bảng xếp hạng học tập</li>
                </ul>
            </div>
            <div class="naviagation-part">
                <span style='font-weight: 800;'>Liên Hệ</span>
                <ul style="display: flex; flex-direction: column; align-items: flex-start; justify-content: center;">
                    <li>
                        <span style="padding-right: var(--spacing-2);">📩</span>
                        <span>Email: support@leafy.com</span>
                    </li>
                    <li>
                        <span style="padding-right: var(--spacing-2);">📍</span>
                        <span>Địa chỉ: 123 Đường Tri Thức, Thành phố Sáng Tạo</span>
                    </li>
                    <li>
                        <span style="padding-right: var(--spacing-2);">📞</span>
                        <span>Hotline: 1800-LEAFY (1800-53239)</span>
                    </li>
                </ul>
            </div>
        </div>
        <div class='component-footer-information'>
            <div style="font-size: 12px;">© 2025 leafy. Tất cả các quyền được bảo lưu.</div>
            <div style="display: flex; gap: var(--spacing-2);">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M16 0C7.16352 0 0 7.16352 0 16C0 23.5034 5.16608 29.7997 12.135 31.529V20.8896H8.83584V16H12.135V13.8931C12.135 8.44736 14.5997 5.9232 19.9462 5.9232C20.96 5.9232 22.7091 6.12224 23.4246 6.32064V10.7526C23.047 10.713 22.391 10.6931 21.5763 10.6931C18.953 10.6931 17.9392 11.687 17.9392 14.2707V16H23.1654L22.2675 20.8896H17.9392V31.8829C25.8618 30.9261 32.0006 24.1805 32.0006 16C32 7.16352 24.8365 0 16 0Z"
                        fill="white" />
                </svg>

                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M24.4352 2.53857H28.9332L19.1065 13.7699L30.6668 29.0532H21.6151L14.5255 19.784L6.41343 29.0532H1.91274L12.4234 17.04L1.3335 2.53857H10.615L17.0234 11.011L24.4352 2.53857ZM22.8566 26.3609H25.3489L9.26069 5.08942H6.58611L22.8566 26.3609Z"
                        fill="white" />
                </svg> 

                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_204_1849)">
                        <path
                            d="M16 2.88125C20.275 2.88125 20.7813 2.9 22.4625 2.975C24.025 3.04375 24.8688 3.30625 25.4313 3.525C26.175 3.8125 26.7125 4.1625 27.2688 4.71875C27.8313 5.28125 28.175 5.8125 28.4625 6.55625C28.6813 7.11875 28.9438 7.96875 29.0125 9.525C29.0875 11.2125 29.1063 11.7188 29.1063 15.9875C29.1063 20.2625 29.0875 20.7688 29.0125 22.45C28.9438 24.0125 28.6813 24.8563 28.4625 25.4188C28.175 26.1625 27.825 26.7 27.2688 27.2563C26.7063 27.8188 26.175 28.1625 25.4313 28.45C24.8688 28.6688 24.0188 28.9313 22.4625 29C20.775 29.075 20.2688 29.0938 16 29.0938C11.725 29.0938 11.2188 29.075 9.5375 29C7.975 28.9313 7.13125 28.6688 6.56875 28.45C5.825 28.1625 5.2875 27.8125 4.73125 27.2563C4.16875 26.6938 3.825 26.1625 3.5375 25.4188C3.31875 24.8563 3.05625 24.0063 2.9875 22.45C2.9125 20.7625 2.89375 20.2563 2.89375 15.9875C2.89375 11.7125 2.9125 11.2063 2.9875 9.525C3.05625 7.9625 3.31875 7.11875 3.5375 6.55625C3.825 5.8125 4.175 5.275 4.73125 4.71875C5.29375 4.15625 5.825 3.8125 6.56875 3.525C7.13125 3.30625 7.98125 3.04375 9.5375 2.975C11.2188 2.9 11.725 2.88125 16 2.88125ZM16 0C11.6563 0 11.1125 0.01875 9.40625 0.09375C7.70625 0.16875 6.5375 0.44375 5.525 0.8375C4.46875 1.25 3.575 1.79375 2.6875 2.6875C1.79375 3.575 1.25 4.46875 0.8375 5.51875C0.44375 6.5375 0.16875 7.7 0.09375 9.4C0.01875 11.1125 0 11.6562 0 16C0 20.3438 0.01875 20.8875 0.09375 22.5938C0.16875 24.2938 0.44375 25.4625 0.8375 26.475C1.25 27.5313 1.79375 28.425 2.6875 29.3125C3.575 30.2 4.46875 30.75 5.51875 31.1562C6.5375 31.55 7.7 31.825 9.4 31.9C11.1063 31.975 11.65 31.9937 15.9938 31.9937C20.3375 31.9937 20.8813 31.975 22.5875 31.9C24.2875 31.825 25.4563 31.55 26.4688 31.1562C27.5188 30.75 28.4125 30.2 29.3 29.3125C30.1875 28.425 30.7375 27.5313 31.1438 26.4813C31.5375 25.4625 31.8125 24.3 31.8875 22.6C31.9625 20.8938 31.9813 20.35 31.9813 16.0063C31.9813 11.6625 31.9625 11.1188 31.8875 9.4125C31.8125 7.7125 31.5375 6.54375 31.1438 5.53125C30.75 4.46875 30.2063 3.575 29.3125 2.6875C28.425 1.8 27.5313 1.25 26.4813 0.84375C25.4625 0.45 24.3 0.175 22.6 0.1C20.8875 0.01875 20.3438 0 16 0Z"
                            fill="white" />
                        <path
                            d="M16 7.78125C11.4625 7.78125 7.78125 11.4625 7.78125 16C7.78125 20.5375 11.4625 24.2188 16 24.2188C20.5375 24.2188 24.2188 20.5375 24.2188 16C24.2188 11.4625 20.5375 7.78125 16 7.78125ZM16 21.3312C13.0563 21.3312 10.6687 18.9438 10.6687 16C10.6687 13.0563 13.0563 10.6687 16 10.6687C18.9438 10.6687 21.3312 13.0563 21.3312 16C21.3312 18.9438 18.9438 21.3312 16 21.3312Z"
                            fill="white" />
                        <path
                            d="M26.4625 7.45635C26.4625 8.51885 25.6 9.3751 24.5438 9.3751C23.4813 9.3751 22.625 8.5126 22.625 7.45635C22.625 6.39385 23.4875 5.5376 24.5438 5.5376C25.6 5.5376 26.4625 6.4001 26.4625 7.45635Z"
                            fill="white" />
                    </g>
                    <defs>
                        <clipPath id="clip0_204_1849">
                            <rect width="32" height="32" fill="white" />
                        </clipPath>
                    </defs>
                </svg>

                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.0132 0C7.15833 0 0 7.2111 0 16.1322C0 23.2633 4.58659 29.2997 10.9494 31.4362C11.7449 31.5968 12.0363 31.089 12.0363 30.6619C12.0363 30.2879 12.0101 29.006 12.0101 27.6703C7.5556 28.632 6.62799 25.7472 6.62799 25.7472C5.91212 23.8776 4.85143 23.3971 4.85143 23.3971C3.39348 22.4088 4.95763 22.4088 4.95763 22.4088C6.57489 22.5157 7.4235 24.0648 7.4235 24.0648C8.85491 26.5218 11.1615 25.8276 12.0894 25.4001C12.2218 24.3585 12.6463 23.6373 13.097 23.2368C9.54422 22.8628 5.80625 21.474 5.80625 15.2774C5.80625 13.5146 6.44214 12.0724 7.44973 10.9507C7.29075 10.5502 6.73386 8.89391 7.60903 6.67715C7.60903 6.67715 8.96111 6.24973 12.0098 8.33309C13.315 7.97996 14.6611 7.80032 16.0132 7.79881C17.3653 7.79881 18.7436 7.98597 20.0164 8.33309C23.0654 6.24973 24.4175 6.67715 24.4175 6.67715C25.2926 8.89391 24.7354 10.5502 24.5764 10.9507C25.6106 12.0724 26.2202 13.5146 26.2202 15.2774C26.2202 21.474 22.4823 22.8359 18.9029 23.2368C19.4864 23.7442 19.9898 24.7056 19.9898 26.2281C19.9898 28.3914 19.9636 30.1277 19.9636 30.6616C19.9636 31.089 20.2553 31.5968 21.0505 31.4365C27.4133 29.2994 31.9999 23.2633 31.9999 16.1322C32.0261 7.2111 24.8416 0 16.0132 0Z" fill="white"/>
                </svg>
            </div>
        </div>
    </div>
    <script>
        let research_files = []

        document.getElementById('get-cover-file-btn').addEventListener('click', function() {
            document.getElementById('cover-image-input').click();
        });

        document.getElementById('cover-image-input').addEventListener('change', function(event) {
            const file = event.target.files[0];
            console.log(event.target.files);
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    if (document.getElementById('cover-image-img')) {
                        document.getElementById('cover-image-img').remove();
                    }
                    const img_name = document.createElement('span');
                    img_name.id = 'cover-image-img'
                    img_name.innerText = file.name;
                    document.querySelector('.file_upload').appendChild(img_name);
                };
                reader.readAsDataURL(file);
            }
        });

        document.getElementById('get-research-file-btn').addEventListener('click', function() {
            document.getElementById('research-file-input').click();
        });

        document.getElementById('research-file-input').addEventListener('change', function(event) {
            const files = event.target.files;
            const fileContainer = document.getElementById('file-container');
            const research_upload = document.getElementById('research-upload');

            const img_icon = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_204_929)"><path d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z" fill="#87A706"/></g><defs><clipPath id="clip0_204_929"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>`;
            const md_icon = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_204_922)"><path d="M15.25 12.125L14.575 11.45C14.425 11.3 14.25 11.2292 14.05 11.2375C13.85 11.2458 13.675 11.325 13.525 11.475C13.375 11.625 13.3 11.8 13.3 12C13.3 12.2 13.375 12.375 13.525 12.525L15.3 14.3C15.5 14.5 15.7333 14.6 16 14.6C16.2667 14.6 16.5 14.5 16.7 14.3L18.475 12.525C18.625 12.375 18.7 12.2 18.7 12C18.7 11.8 18.625 11.625 18.475 11.475C18.325 11.325 18.1458 11.25 17.9375 11.25C17.7292 11.25 17.55 11.325 17.4 11.475L16.75 12.125V9.75C16.75 9.53333 16.6792 9.35417 16.5375 9.2125C16.3958 9.07083 16.2167 9 16 9C15.7833 9 15.6042 9.07083 15.4625 9.2125C15.3208 9.35417 15.25 9.53333 15.25 9.75V12.125ZM4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM7 10.5H8V12.75C8 12.9667 8.07083 13.1458 8.2125 13.2875C8.35417 13.4292 8.53333 13.5 8.75 13.5C8.96667 13.5 9.14583 13.4292 9.2875 13.2875C9.42917 13.1458 9.5 12.9667 9.5 12.75V10.5H10.5V14.25C10.5 14.4667 10.5708 14.6458 10.7125 14.7875C10.8542 14.9292 11.0333 15 11.25 15C11.4667 15 11.6458 14.9292 11.7875 14.7875C11.9292 14.6458 12 14.4667 12 14.25V10C12 9.71667 11.9042 9.47917 11.7125 9.2875C11.5208 9.09583 11.2833 9 11 9H6.5C6.21667 9 5.97917 9.09583 5.7875 9.2875C5.59583 9.47917 5.5 9.71667 5.5 10V14.25C5.5 14.4667 5.57083 14.6458 5.7125 14.7875C5.85417 14.9292 6.03333 15 6.25 15C6.46667 15 6.64583 14.9292 6.7875 14.7875C6.92917 14.6458 7 14.4667 7 14.25V10.5Z" fill="#87A706"/></g><defs><clipPath id="clip0_204_922"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>`;
            const pdf_icon = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_473_1228)"><path d="M20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM11.5 9.5C11.5 10.33 10.83 11 10 11H9V13H7.5V7H10C10.83 7 11.5 7.67 11.5 8.5V9.5ZM16.5 11.5C16.5 12.33 15.83 13 15 13H12.5V7H15C15.83 7 16.5 7.67 16.5 8.5V11.5ZM20.5 8.5H19V9.5H20.5V11H19V13H17.5V7H20.5V8.5ZM9 9.5H10V8.5H9V9.5ZM4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6ZM14 11.5H15V8.5H14V11.5Z" fill="#87A706"/></g><defs><clipPath id="clip0_473_1228"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>`;

            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const filefield = document.createElement('div');
                filefield.className = 'file-field';

                let file_icon = document.createElement('div');
                let div = document.createElement('div');
                div.style = 'display: flex; flex-direction: row; gap: 10px; align-items: center;';
                let file_name = document.createElement('span');
                let file_cancel = document.createElement('div')

                if (file.name.endsWith('.png') || file.name.endsWith('.jpg')) file_icon.innerHTML = img_icon;
                else if (file.name.endsWith('.pdf')) file_icon.innerHTML = pdf_icon;
                else if (file.name.endsWith('.md')) file_icon.innerHTML = md_icon;

                file_name.innerText = file.name;
                div.appendChild(file_icon);
                div.appendChild(file_name);
                filefield.appendChild(div);
                filefield.appendChild(file_cancel);
                fileContainer.appendChild(filefield);

                file_cancel.innerHTML = `<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="#87A706"/></svg>`
                file_cancel.onclick = remove_file.bind(this, file.name);

                research_files.push(file);
            }
            if (document.getElementById('file-count')) {
                document.getElementById('file-count').innerText = `Đã tải ${research_files.length} file lên`;
                return
            }
            let file_count = document.createElement('span');
            file_count.id = 'file-count';
            file_count.innerText = `Đã tải ${research_files.length} file lên`;
            research_upload.appendChild(file_count);
        });

        function remove_file(name) {
            const inx = research_files.findIndex(file => file.name === name);
            if (inx !== -1) {
                research_files.splice(inx, 1); 
                const fileContainer = document.getElementById('file-container');
                const fileCount = document.getElementById('file-count');
                fileContainer.removeChild(fileContainer.children[inx]);
                if (research_files.length === 0) {
                    fileCount.remove();
                } else {
                    fileCount.innerText = `Đã tải ${research_files.length} file lên`;
                }
            }
        }
    </script>
</body>
</html>